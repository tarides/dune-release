rgrinberg week 1: 2024/01/01 -- 2024/01/07

# Last Week

- Dune Source Fetching and Multiple Opam-repositories Support (#1069)
  - @rgrinberg (2 days)
  - PR: fix(pkg): [remove_locs] wasn't removing locations everywhere (ocaml/dune#9594)
  - PR: refactor(pkg): cosmetic cleanups (ocaml/dune#9595)
  - PR: refactor(pkg): remove some unnecessary packgae stringification (ocaml/dune#9596)
  - PR: refactor: replace [Fiber.all_concurrently] with [Fiber.parallel_map] (ocaml/dune#9597)
  - PR: test(pkg): make [opam-var-os.t] more reproducible (ocaml/dune#9598)
  - PR: refactor(pkg): move lock dir solving into own function (ocaml/dune#9599)
  - PR: refactor(pkg): remove unused function (ocaml/dune#9601)
  - PR: chore: mark some weirdness (ocaml/dune#9602)
  - PR: refactor(pkg): simplify source field of [With_file] (ocaml/dune#9603)
  - PR: refactor(pkg): introduce [Committish] (ocaml/dune#9604)
  - PR: refactor(pkg): improve bindings in [Fetch] (ocaml/dune#9608)
  - PR: refactor(pkg): use [Fiber_lazy] to simplify (ocaml/dune#9609)
  - PR: refactor(pkg): cosmetic simplifications (ocaml/dune#9610)
  - PR: chore: wrap some long doc strings (ocaml/dune#9611)
  - PR: refactor: simplify some package name conversion (ocaml/dune#9612)
  - PR: refactor(pkg): move global rev_store to [Rev_store] (ocaml/dune#9616)
  - PR: fix(pkg): read default branch correctly (ocaml/dune#9617)
  - PR: fix(pkg): remove branch from remote names (ocaml/dune#9618)
  - PR: test(pkg): test local rev store (ocaml/dune#9619)
  - PR: fix(pkg): improve url validation in repos (ocaml/dune#9620)
  - PR: refactor(pkg): better variable name (ocaml/dune#9622)
  - PR: refactor(pkg): move repo backend to own module (ocaml/dune#9623)
  - PR: test(pkg): multiple repo handling (ocaml/dune#9624)
  - PR: refactor(pkg): move [Opam_repo.With_file] (ocaml/dune#9625)
  - PR: refactor(pkg): make [Resolved_package] more abstract (ocaml/dune#9626)
  - PR: refactor(pkg): move package fetching to [Resolved_package] (ocaml/dune#9627)
  - PR: fix(pkg): force repos to use git:// prefix for git (ocaml/dune#9628)
  - PR: refactor(pkg): remove some dead code (ocaml/dune#9629)
  - PR: refactor(pkg): move opam url wrapping to a module (ocaml/dune#9630)
  - PR: fix(pkg): add url validation to package sources (ocaml/dune#9631)
  - PR: refactor(pkg): move more code to [Resolved_package] (ocaml/dune#9632)
  - PR: refactor(pkg): some cosmetics and remove stale comments (ocaml/dune#9639)
  - PR: refactor(pkg): leave CR for untimely update (ocaml/dune#9640)
  - PR: refactor(pkg): make Opam_repo.Source abstract (ocaml/dune#9641)
  - PR: fix(pkg): pass locations to [Opam_repo.Source] and to command line (ocaml/dune#9642)
  - PR: test(pkg): pin-depends should create opam files (ocaml/dune#9644)
  - PR: refactor(pkg): resolved package simplifications (ocaml/dune#9645)
  - PR: refactor(pkg): remove some unnecessary bindings in [Sys_poll] (ocaml/dune#9646)
  - PR: refactor(pkg): factor some code (ocaml/dune#9647)
  - PR: refactor(pkg): simplify polling code (ocaml/dune#9648)
  - PR: refactor(pkg): improve file io in sys_poll (ocaml/dune#9649)

- Lock Directory Generation and Dune Context Extensions (#1068)
  - @rgrinberg (2 days)
  - Issue: Filter VCS Paths for Source Copying Rules (ocaml/dune#9607)
  - PR: fix(pkg): set (dev true) for packages without checksums (ocaml/dune#9605)
  - PR: fix(pkg): include all error messages (ocaml/dune#9606)

- General dune maintenance (Plat140)
  - @rgrinberg (1 day)
  - PR: refactor: remove [chop_extension] from [Stdune] (ocaml/dune#9600)
  - PR: test: make sure .#name.ml patterns are ignored (ocaml/dune#9654)
  - PR: test: include module paths in merlin output (ocaml/dune#9655)
  - PR: test: reproduce 9650 (ocaml/dune#9653)
  - PR: test: move ppx tests to sub directory (ocaml/dune#9651)
  - PR: refactor: simplify merlin handling code (ocaml/dune#9656)
  - PR: test: reproduce #8297 (ocaml/dune#9657)
  - PR: test: move merlin tests to merlin dir (ocaml/dune#9658)
  - PR: fix: correctly output -open flags in merlin (ocaml/dune#9659)
  - PR: refactor: move open flag handling to one place (ocaml/dune#9660)
