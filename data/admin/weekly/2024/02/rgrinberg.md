rgrinberg week 2: 2024/01/08 -- 2024/01/14

# Last Week

- Dune Source Fetching and Multiple Opam-repositories Support (#1069)
  - @rgrinberg (2 days)
  - PR: fix(pkg): save locations of repo names (ocaml/dune#9663)
  - PR: test(pkg): pin-depends with opam subdir (ocaml/dune#9668)
  - PR: test: demonstrate checksum computing bugs (ocaml/dune#9676)
  - PR: fix(pkg): missing location in rev store (ocaml/dune#9681)
  - PR: feature(pkg): support pin-depends (ocaml/dune#9685)
  - PR: fix(pkg): add more missing locations (ocaml/dune#9694)
  - PR: test(pkg): copying empty directories (ocaml/dune#9715)
  - PR: test(pkg): source copying mask (ocaml/dune#9717)
  - Issue: Do not include checksums for "local" sources (ocaml/dune#9677)
  - Issue: Re-downloading the same sources when building packages (ocaml/dune#9701)

- Lock Directory Generation and Dune Context Extensions (#1068)
  - @rgrinberg (2 days)
  - PR: refactor(pkg): share results between sys poll vars (ocaml/dune#9666)
  - PR: fix(pkg): do not use Pp.newline in errors (ocaml/dune#9667)
  - PR: fix(pkg): improve locations for local path repos (ocaml/dune#9670)
  - PR: refactor(pkg): use run_capture_line for sys_ocaml_version (ocaml/dune#9684)
  - PR: refactor(pkg): make remote reading a little more resilient (ocaml/dune#9698)
  - PR: fix(pkg): do not copy unnecessary folders/files to package sources (ocaml/dune#9723)
  - PR: refactor(pkg): sys poll variable improvements (ocaml/dune#9726)
  - Issue: Remove the `copy` constructor from `Dune_pkg.Source.t` (ocaml/dune#9700)
  - Issue: Pointing a package source to a directory doesn't work (ocaml/dune#9678)
  - Issue: Generate Lock Directories for Subset of Packages (ocaml/dune#9688)
  - Issue: Minimal Package Dependencies (ocaml/dune#9714)
  - Issue: Empty Directories Not Copied (ocaml/dune#9716)

- General dune maintenance (Plat140)
  - @rgrinberg (1 days)
  - PR: feature: enable directory targets for everyone (ocaml/dune#9702)
  - PR: refactor: set directory targets as experimental (ocaml/dune#9706)
  - PR: fix: optional binaries handling (ocaml/dune#9707)
  - PR: fix: use original paths in (run ..) (ocaml/dune#9708)
  - PR: refactor: do not assume every syntax extension has a defined version (ocaml/dune#9710)
  - PR: refactor: optimize [Fpath.is_root] (ocaml/dune#9712)
  - PR: refactor: optimize some comparisons in some hot spots (ocaml/dune#9713)
